<div class="container">
	<div class="row mtop-navbar-row">
        <div class="col-md-3 sidebar">
	    	<ul class="nav nav-pills nav-stacked mbottom-2x">
	    		<li ng-class="{active: tab_active == 'live-statistic'}"><a ng-click="tab_active = 'live-statistic'"><i class="fa fa-bar-chart fa-fw"></i>  Live Statistik</a></li>
				<hr>
				<li ng-class="{active: tab_active == 'users'}"><a ng-click="tab_active = 'users'"><i class="fa fa-users fa-fw"></i>  Nutzer</a></li>
				<li ng-class="{active: tab_active == 'questions'}"><a ng-click="tab_active = 'questions'"><i class="fa fa-question-circle fa-fw"></i>  Fragen</a></li>
				<li ng-class="{active: tab_active == 'results'}"><a ng-click="tab_active = 'results'"><i class="fa fa-exclamation-triangle fa-fw"></i>  Antworten</a></li>
				<li ng-class="{active: tab_active == 'activity'}"><a ng-click="tab_active = 'activity'"><i class="fa fa-bicycle fa-fw"></i>  Aktivität</a></li>
				<li ng-class="{active: tab_active == 'queries'}"><a ng-click="tab_active = 'queries'"><i class="fa fa-search fa-fw"></i>  Suchanfragen</a></li>
			</ul>
			<hr class="visible-xs visible-sm">
	    </div>

	    <div class="col-md-9">
	    	<div class="tab-content">

	    		<div ng-show="tab_active == 'live-statistic'">
		    		<h4>Antworten</h4>
					<div class="row">
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.result_count }}</h5>
								<p><i class="fa fa-exclamation-triangle fa-fw"></i> Insgesamt | {{ stats.result_count / stats.user_count | number:0  }} pro Nutzer</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.result_count_today }}</h5>
								<p><i class="fa fa-exclamation-triangle fa-fw"></i> 24 Stunden</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.result_per_minute | number : 2 }}</h5>
								<p><i class="fa fa-exclamation-triangle fa-fw"></i> pro Minute</p>
							</div>
						</div>
					</div>

					<hr>

					<h4>Nutzer</h4>
					<div class="row">
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.user_count }}</h5>
								<p><i class="fa fa-users fa-fw"></i> Insgesamt</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.user_count_login_today }}</h5>
								<p><i class="fa fa-users fa-fw"></i> Angemeldet 24 Stunden</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.user_count_register_today }}</h5>
								<p><i class="fa fa-users fa-fw"></i> Registriert 24 Stunden</p>
							</div>
						</div>
					</div>

					<hr>

					<div class="row">
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.question_count }}</h5>
								<p> <i class="fa fa-question-circle fa-fw"></i> Fragen | {{ stats.visible_question_count }} sichtbar</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.exam_count }}</h5>
								<p> <i class="fa fa-list fa-fw"></i> Klausuren | {{ stats.visible_exam_count }} sichtbar</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.comment_count }}</h5>
								<p> <i class="fa fa-comments fa-fw"></i> Kommentare</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.tag_count }}</h5>
								<p> <i class="fa fa-tags fa-fw"></i> Markierungen</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.search_count }}</h5>
								<p> <i class="fa fa-search fa-fw"></i> Suchanfragen</p>
							</div>
						</div>
					</div>
    			</div>


	    		<div ng-show="tab_active == 'users'">
		    		<div class="row">
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.user_count }}</h5>
								<p><i class="fa fa-users fa-fw"></i> Insgesamt</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.user_count_login_today }}</h5>
								<p><i class="fa fa-users fa-fw"></i> Angemeldet 24 Stunden</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.user_count_register_today }}</h5>
								<p><i class="fa fa-users fa-fw"></i> Registriert 24 Stunden</p>
							</div>
						</div>
					</div>

					<hr>

					<h4>Semester</h4>
					<div class="row">
						<div class="col-xs-6 col-sm-4">
							<center>
								<canvas doughnutchart data="::chart_users" width="200" height="200"></canvas>
								<p>Nutzer</p>
							</center>
						</div>

						<div class="col-xs-12 col-sm-4">
							<div style="line-height: 24px; margin-top: 20px;">
								<div class="dot pull-left" style="background-color: #e74c3c; margin-top:3px; margin-right: 14px;"></div> 1. Semester<br>
								<div class="dot pull-left" style="background-color: #e67e22; margin-top:3px; margin-right: 14px;"></div> 2. Semester<br>
								<div class="dot pull-left" style="background-color: #f1c40f; margin-top:3px; margin-right: 14px;"></div> 3. Semester<br>
								<div class="dot pull-left" style="background-color: #2ecc71; margin-top:3px; margin-right: 14px;"></div> 4. Semester<br>
								<div class="dot pull-left" style="background-color: #1abc9c; margin-top:3px; margin-right: 14px;"></div> 5. Semester<br>
								<div class="dot pull-left" style="background-color: #3498db; margin-top:3px; margin-right: 14px;"></div> 6. Semester<br>
								<div class="dot pull-left" style="background-color: #34495e; margin-top:3px; margin-right: 14px;"></div> >6. Semester<br>
							</div>
						</div>
					</div>
	    		</div>
	    		
	    		
	    		<div ng-show="tab_active == 'questions'">
		    		<div class="row">
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.question_count }}</h5>
								<p> <i class="fa fa-question-circle fa-fw"></i> {{ stats.visible_question_count }} sichtbar</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.question_worked_count }}</h5>
								<p> <i class="fa fa-question-circle fa-fw"></i> Insgesamt Gelöst</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.question_worked_count_today }}</h5>
								<p> <i class="fa fa-question-circle fa-fw"></i> 24 Stunden Gelöst</p>
							</div>
						</div>
					
					</div>
					
					<hr>
					
					<div class="row mbottom-2x">
						<center>
							<canvas barchart data="::chart_questions" width="600" height="400"></canvas>
						</center>
					</div>
	    		</div>
	    		
	    		<div ng-show="tab_active == 'results'">
		    		<h4>Antworten</h4>
					<div class="row">
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.result_count }}</h5>
								<p>
									<i class="fa fa-exclamation-triangle fa-fw"></i>
									Insgesamt | {{ stats.result_count / stats.user_count | number:0  }} pro Nutzer
								</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.result_count_today }}</h5>
								<p><i class="fa fa-exclamation-triangle fa-fw"></i> 24 Stunden</p>
							</div>
						</div>
						<div class="col-xs-12 col-sm-4">
							<div class="stats-box">
								<h5>{{ stats.result_per_minute | number : 2 }}</h5>
								<p><i class="fa fa-exclamation-triangle fa-fw"></i> pro Minute</p>
							</div>
						</div>
					</div>

					<hr>

					<center>
						<canvas linechart data="::chart_time_result_today" width="800" height="400"></canvas>
					</center>
					<h6>Antworten pro Stunde im Verlauf der letzten Stunden</h6>

					<br><br><br>
	    		</div>
	    		
	    		<div ng-show="tab_active == 'activity'">
		    		<h4>Aktivität <small>Aktualisieren braucht immer etwas...</small></h4>
					<div class="btn-toolbar">
						<div class="btn-group">
						    <label class="btn btn-danger" ng-model="update_activity" btn-checkbox>LIVE</label>
						</div>

						<div class="btn-group mbottom-2x">
						    <label class="btn btn-default" ng-model="show_activity.result" ng-disabled="!update_activity" btn-checkbox>Antworten</label>
						    <label class="btn btn-default" ng-model="show_activity.register" ng-disabled="!update_activity" btn-checkbox>Registrierungen</label>
						    <label class="btn btn-default" ng-model="show_activity.login" ng-disabled="!update_activity" btn-checkbox>Anmeldungen</label>
						    <label class="btn btn-default" ng-model="show_activity.search_query" ng-disabled="!update_activity" btn-checkbox>Suchen</label>
						    <label class="btn btn-default" ng-model="show_activity.comment" ng-disabled="!update_activity" btn-checkbox>Kommentare</label>
						    <label class="btn btn-default" ng-model="show_activity.exam_new" ng-disabled="!update_activity" btn-checkbox>Neue...</label>
						    <label class="btn btn-default" ng-model="show_activity.exam_update" ng-disabled="!update_activity" btn-checkbox>Veränderte Klausuren</label>
						</div>
					</div>

					<table class="table">
						<tbody>
							<tr ng-repeat="act in activities">
								<td>
									<span class="text-muted"><i class="fa fa-clock-o fa-fw"></i> <span timeago="{{act.date * 1000}}"></span></span>
								</td>
								<td ng-if="act.activity == 'search_query'">
									<strong>{{ act.username }}</strong> hat nach {{ act.query }} gesucht</td>
								<td ng-if="act.activity == 'result'">
									<strong>{{ act.username }}</strong> hat Frage #{{ act.question_id }}
									<span ng-show="act.correct==0"><strong class="text-danger">falsch</strong></span>
									<span ng-show="act.correct==1"><strong class="text-success">richtig</strong></span>
									beantwortet
								</td>
								<td ng-if="act.activity == 'register'">
									<strong>{{ act.username }}</strong> hat sich registriert
								</td>
								<td ng-if="act.activity == 'login'">
									<strong>{{ act.username }}</strong> hat sich angemeldet
								</td>
								<td ng-if="act.activity == 'comment'">
									<strong>{{ act.username }}</strong> hat einen Kommentar zur Frage #{{ act.question_id }} geschrieben
								</td>
								<td ng-if="act.activity == 'exam_new'">
									<strong>{{ act.username }}</strong> hat Klausur #{{ act.exam_id }} hinzugefügt
								</td>
								<td ng-if="act.activity == 'exam_update'">
									<strong>{{ act.username }}</strong> hat Klausur #{{ act.exam_id }} verändert
								</td>
							</tr>
						</tbody>
					</table>
	    		</div>
	    		
	    		<div ng-show="tab_active == 'queries'">
		    		<h4>Alle Suchanfragen</h4>
					<table class="table">
						<thead>
							<th><i class="fa fa-user fa-fw"></i> Name</th>
						    <th>Suche</th>
						    <th><i class="fa fa-clock-o fa-fw"></i> Datum</th>
						</thead>

						<tbody>
							<tr ng-repeat="query in search_queries">
								<td>{{ query.username }}</td>
								<td>{{ query.query }}</td>
								<td><span timeago="{{query.date * 1000}}"></td>
							</tr>
						</tbody>
					</table>
	    		</div>
	    	</div>
        </div>
    </div>
</div>